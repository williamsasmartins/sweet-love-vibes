<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Facebook Integration â€“ Sweets Love by Lu</title>
    <meta name="robots" content="index,follow" />
    <link rel="canonical" href="https://www.sweetslove.ca/facebook.html" />
    <meta property="og:url" content="https://www.sweetslove.ca/facebook.html" />
    <meta property="og:title" content="Facebook Integration â€“ Sweets Love by Lu" />
    <meta property="og:description" content="Optimized page with Facebook SDK, Share and Messenger." />
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://www.sweetslove.ca/logo.ico" />
    <meta property="fb:app_id" content="YOUR_FACEBOOK_APP_ID" />
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Facebook Integration â€“ Sweets Love by Lu" />
    <meta name="twitter:description" content="Optimized page with Facebook SDK, Share and Messenger." />
    <meta name="twitter:image" content="https://www.sweetslove.ca/logo.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet" />
    <style>
      :root {
        color-scheme: light;
        --foreground: 20 20% 23%;
        --chocolate: 20 30% 35%;
        --accent-pink: 345 70% 90%;
        --accent-pink-light: 345 60% 96%;
        --border: 345 30% 88%;
      }
      body {
        margin: 0; padding: 2rem; line-height: 1.6;
        font-family: 'Quicksand', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial;
        color: hsl(var(--foreground));
        background: radial-gradient(60rem 60rem at -10% -20%, hsl(0 0% 100%) 0%, hsl(345 60% 96%) 60%, transparent 70%),
                    radial-gradient(50rem 50rem at 110% -10%, hsl(0 0% 100%) 0%, hsl(345 70% 90%) 55%, transparent 70%),
                    hsl(0 0% 100%);
        background-attachment: fixed;
      }
      .container { max-width: 900px; margin: 0 auto; }
      header { display: flex; align-items: center; gap: 12px; margin-bottom: 12px; }
      h1 { font-size: 2rem; margin: 0 0 0.75rem; font-family: 'Playfair Display', serif; color: hsl(var(--chocolate)); font-weight: 700; }
      h2 { font-family: 'Playfair Display', serif; color: hsl(var(--chocolate)); font-weight: 700; font-size: 1.25rem; }
      .card { background: #fff; border: 1px solid hsl(var(--border)); border-radius: 18px; padding: 1rem 1.25rem; box-shadow: 0 8px 24px rgba(0,0,0,.06); margin: 12px 0; }
      .grid { display: grid; grid-template-columns: 1fr; gap: 12px; }
      @media (min-width: 780px) { .grid { grid-template-columns: 1fr 1fr; } }
      button { display: inline-flex; align-items: center; gap: 8px; border: 1px solid hsl(var(--border)); color: hsl(var(--chocolate)); background: hsl(var(--accent-pink)); border-radius: 12px; padding: .6rem 1rem; cursor: pointer; }
      button:hover { filter: brightness(0.98); }
      .muted { opacity: .7; font-size: .95rem; }
      a { color: hsl(var(--chocolate)); }
      code { background: #f3f3f3; padding: 0 .35rem; border-radius: 6px; }
    </style>
  </head>
  <body>
    <div id="fb-root"></div>
    <div class="container" role="main">
      <header>
        <img src="/favicon.ico" alt="Sweets Love" width="32" height="32" loading="lazy" />
        <h1>Facebook Integration</h1>
      </header>

      <p class="muted">This page loads the Facebook SDK, includes Share and Messenger buttons, and Open Graph meta tags for correct preview.</p>

      <div class="grid">
        <section class="card">
          <h2>Quick Actions</h2>
          <p>
            <button id="shareButton" aria-label="Share on Facebook">ðŸ”— Share on Facebook</button>
            <button id="messageButton" aria-label="Send via Messenger" style="margin-left:8px;">ðŸ’¬ Send via Messenger</button>
          </p>
          <p class="muted">Sharing uses <code>FB.ui</code> and honors your <code>appId</code> configuration.</p>
        </section>

        <section class="card">
          <h2>Tools</h2>
          <p>
            <a id="debuggerLink" target="_blank" rel="noopener noreferrer">Open Sharing Debugger</a>
          </p>
          <p class="muted">Use it to validate preview and HTTP 200 status.</p>
        </section>
      </div>

      <section class="card">
        <h2>Configuration</h2>
        <ul>
          <li><strong>App ID</strong>: pass via querystring <code>?app_id=YOUR_APP_ID</code> or edit the <code>fb:app_id</code> meta tag.</li>
          <li><strong>Pixel (optional)</strong>: pass via <code>?pixel_id=YOUR_PIXEL_ID</code> to enable <em>PageView</em> tracking.</li>
          <li><strong>Share URL</strong>: by default, we use <code>/privacy.html</code> (HTTP 200).</li>
        </ul>
      </section>

      <section class="card">
        <h2>Privacy & Security</h2>
        <p>No personal data is collected on this page. Security headers (CSP, HSTS, nosniff) are applied on Vercel.</p>
        <p><a href="/privacy.html">Privacy Policy</a> â€¢ <a href="/terms">Terms</a></p>
      </section>
    </div>

    <script>
      (function () {
        const params = new URLSearchParams(location.search);
        const APP_ID = params.get('app_id') || document.querySelector('meta[property="fb:app_id"]').getAttribute('content') || 'YOUR_FACEBOOK_APP_ID';
        const PIXEL_ID = params.get('pixel_id');
        const SHARE_URL = new URL('/privacy.html', location.origin).toString();

        // SDK Facebook
        window.fbAsyncInit = function() {
          FB.init({ appId: APP_ID, xfbml: true, version: 'v19.0' });
        };
        (function(d, s, id){ var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.async = true; js.defer = true; js.src = 'https://connect.facebook.net/en_US/sdk.js'; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));

        // Pixel (opcional)
        if (PIXEL_ID) {
          !(function(f,b,e,v,n,t,s){ if(f.fbq) return; n=f.fbq=function(){ n.callMethod? n.callMethod.apply(n,arguments):n.queue.push(arguments)}; if(!f._fbq) f._fbq=n; n.push=n; n.loaded=!0; n.version='2.0'; n.queue=[]; t=b.createElement(e); t.async=!0; t.src=v; s=b.getElementsByTagName(e)[0]; s.parentNode.insertBefore(t,s) })(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');
          fbq('init', PIXEL_ID);
          fbq('track', 'PageView');
        }

        // BotÃµes
        function share() { FB.ui({ method: 'share', href: SHARE_URL }, function(){ /* noop */ }); }
        function send() { FB.ui({ method: 'send', link: SHARE_URL }, function(){ /* noop */ }); }
        document.addEventListener('DOMContentLoaded', function(){
          document.getElementById('shareButton').addEventListener('click', share);
          document.getElementById('messageButton').addEventListener('click', send);
          document.getElementById('debuggerLink').href = 'https://developers.facebook.com/tools/debug/?q=' + encodeURIComponent(SHARE_URL);
        });
      })();
    </script>

    <noscript><img height="1" width="1" style="display:none" alt="" src="https://www.facebook.com/tr?id=PIXEL_ID&ev=PageView&noscript=1" /></noscript>
  </body>
</html>